<div class="p-2 text-center overflow-auto" *ngIf="data[1]=='prodotto'; else noDataTemplate" style="max-height: 400px; max-width: 800px;">
  <h1 mat-dialog-title>{{data[0].nome}}</h1>
  <div mat-dialog-content>
      <p>Venduto da : {{data[0]['societàName']}} , Categoria : {{data[0].category.name}}</p>
      <img src="{{data[0].immagine}}" style="max-width: 200px;" alt="" class="rounded shadow border">
      <p><span>Prezzo : {{data[0].prezzo}} </span> <span> Pezzi : {{data.pezzi}}</span></p>
<p>Tipo prodotto : {{data[0].tipoProdotto}}</p>
<div class="d-flex justify-content-center">
  <p *ngFor="let star of stars"  [class.active]="star <= rating">
 <i class="fas fa-star" [class.active]="star <= rating" [class.hover]="star <= hoverRating" (click)="rate(star)"></i>
</p>

</div>
<p>Media recensioni prodotto : {{media}}</p>
  </div>
  <div class="p-2">
    <button class="btn m-1" (click)="closeDialog('add')"> Aggiungi al carrello</button>
    <button class="btn m-1 btn-danger" (click)="closeDialog()">Chiudi</button>
  </div>
  <div class="row">
<div class="col-md-12">
  <form [formGroup]="commentaForm">
  <label for="">Lascia un commento:</label>
  <p>
    <span class="p-1 border rounded m-1" *ngFor="let c of predefinedComments" (click)="commentaForm.controls['testo'].setValue(c.testo)">{{c.testo}}</span>
  </p>
<textarea name="" id="" class="form-control w-100" formControlName="testo"></textarea>
<button class="btn m-1" (click)="commenta()">Commenta</button>
</form>
</div>
    <div class="col-md-12 p-2" *ngFor="let c of commenti">
<div class="row">
  <div class="col-md-4">
  <p class="text-danger">{{c.user.nomeCompleto}}</p>
  <p>ha scritto :</p>
  </div>
  <div class="col-md-8">
<p class="fs-4">{{c.testo}}</p>
<p class="fs-6">{{c.created_at}}</p>
  </div>
</div>
    </div>
  </div>
</div>
<ng-template #noDataTemplate class="overflow-auto">
  <div class="p-2 text-center" *ngFor="let item of data[0]">
    <h1 mat-dialog-title>{{item.nome}}</h1>
    <div mat-dialog-content>
        <p>Venduto da : {{item['societàName']}} , Categoria : {{item.category.name}}</p>
        <img src="{{item.immagine}}" style="max-width: 200px;" alt="" class="rounded shadow border">
        <p><span>Prezzo : {{item.prezzo}} </span> <span> Pezzi : {{data.pezzi}}</span></p>
  <p>Tipo prodotto : {{item.tipoProdotto}}</p>
    </div>
    <div class="p-2">
    </div>
  </div><button class="btn m-1 btn-danger" (click)="closeDialog()">Chiudi</button>
</ng-template>
